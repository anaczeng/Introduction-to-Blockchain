#### 6.1.1 以太坊的愿景

以太坊是忠实继承比特币系统去中心化思想的开发平台。简单来说，比特币系统追踪记录的是支付信息，而以太坊追踪记录的是程序；正如比特币系统提供了去中心化的方式来运行货币系统，以太坊为去中心化的应用软件提供了基础设施。以子贡给盗跖发送消息为例，在社交网络模型中信息都要经过中心的服务提供商，但在以太坊模型中，信息被分拆成众多小任务由网络中不同用户协同完成，完成任务的用户会被奖励以太币（ETH）。

![](/assets/fig-6-1-1.png)![](/assets/fig-6-1-2.png)

图6-1：消息传递在社交网络模型与去中心化的以太坊模型。在社交网络模型中，服务提供商的数据中心就是我们常说的“云端”，信息经过时都可存储起来形成公司的资产。在以太坊模型中，整个系统可以看做是个超级大电脑，每个节点只处理信息的一小部分；除了最后的接收者没人可以获取你全部的信息，因为这是一个去中心化的网络。

“流动的数据是未来最大的资产。”这是凯文·凯利的预言。事实上，这个未来已经近在咫尺：如今各大互联网公司最有价值的资产就是用户数据。在手机普及、各类穿戴设备如雨后春笋的今天，用户就像不会干涸的水源，每天产生的数据都被收集上传，而提供服务的互联网公司就成了数据积淀的湖泊。直至现在，用户需要使用服务，数据都别无选择地“免费”成为服务提供商的资产；但以太坊的出现至少提供了一个可能的未来，用户可以自主地管理自己的数据资产，不再被中心化的服务提供商挟持。

以太坊是个非常宏伟的愿景。它的发展不仅可能颠覆各个行业的格局，也会深刻的影响我们日常的生活。例如不久的将来，人们不仅会关注投资理财，还会在意合理地管理自己的数据资产。也正因愿景如此宏伟，新生的以太坊在实现上与白皮书上的设计并不完全一致；同时，它的设计也会随着研究与实验的推进随时可能做出重大的变更。因此，读者在阅读该章节时部分技术内容也许过时了。



图6-2：以太坊里程碑。

POC阶段一直是演示的样品程序。从前沿（Frontier）开始，以太坊网络正式上线。这个版本面向开发APP的专业编程人员。家园（Homestead）是以太坊现在的版本。现阶段以太坊主要精力都放在调试前沿阶段出现的错误以及消除暴露出来的风险。该版本实际上成了前沿版本的补丁。大都市（Metropolis）尚未知具体的发布日期。计划在该版本中以太坊将配备大量成熟界面和功能，可供普通非技术型用户使用。常态（Serenity）是以太坊现有计划的最后一步。在该阶段中共识机制将完全由POW转成POS，以减少整个网络的能源消耗。

6.1.2以太坊与比特币

以太坊借鉴了比特币大量的工作。至今以太坊的共识机制依然沿用了POW，它在数据结构方面也与比特币系统的非常相似。比特币系统可以看做是一个隐形的状态（State）转移系统，而以太坊则将状态转移显性地表示出来；它们两者的状态转移过程都靠交易（transaction）完成。



图6-3：比特币系统的状态转移。

比特币系统中每个地址的状态（所含比特币）都可以通过跟该地址相关的所有交易信息推断出来。地址状态并不包含在账本中，所以它是隐性的。而在以太坊中，状态（State）都由账户（Account）这种具体的数据结构构成，并存储在所有全节点的账本中。以太坊的数据结构将在下一节具体介绍。

6.1.3账本

以太坊的账本也是区块链结构，只是在比特币的基础上做了修改。例如区块中不仅包含交易的集合，还包含叔区块的集合。叔区块（Uncle Block）类似于比特币中的孤儿块，但它所包含的算力会用在以太坊的共识机制中。



图6-4：以太坊账本概览示意图。

6.1.3.1 区块与区块头

以太坊的区块包含三部分：区块头，交易列表和叔区块列表。以太坊的区块头比区块链要复杂得多，它包含了15个域；除了使用哈希指针和Merkle树的数据结构外，还引入了Merkle-Patricia树这种新的数据结构。此外，以太坊的哈希函数使用的是SHA-3。



